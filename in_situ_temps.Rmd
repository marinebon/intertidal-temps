---
title: "MARINe sites: in situ temps report"
output:
  html_document:
    toc: true
    toc_float: true
    code_folding: hide
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = T, message = F, warning = F)
```

```{r}
source(here::here("functions.R"))
```

### In situ temperature

```{r}
# will filter sites_smoothed by site of interest, e.g. site_id == params$site_id
# ex: if params site_id is USCADB, would filter as follows
site_id <- "USCABD"
site_info <- sites_smoothed %>%
  filter(site_id == !!site_id)
csv_in_situ <- site_info$path
xts <- get_xts(csv_in_situ)

# get relevant zone names and start/end dates
xts_zones <- c(names(xts))
start <- start(xts)
end   <- end(xts)

# output timeseries plot
get_dygraph(xts)
```

This timeseries was created using data collected by `r site_info$num_loggers` biomimetic temperature loggers between `r start` and `r end`. Loggers were placed in the `r tolower(knitr::combine_words(xts_zones))` zones of the intertidal ecosystem.

Total number of sites: `r site_info$num_sites`

Download data: [`r basename(csv_in_situ)`](link goes here) 
